## S3 (Simple Storage Service)

---

### 🧩 개념

> AWS에서 제공하는 확장 가능한 객체 스토리지 서비스
> 
> 
> 대규모 데이터를 안전하게 저장하고, 언제 어디서나 인터넷을 통해 접근 가능하다.
> 
- **웹 인터페이스 기반 접근 가능**
- 업로드/다운로드 모두 **URL 링크** 기반
- 파일 단위(객체 단위)로 저장하며, 폴더 개념은 논리적 구조(실제는 Key Prefix)
- 데이터를 여러 가용 영역(AZ)에 복제하여 **높은 가용성** 보장

---

### ⚙️ 특징 요약

| 항목 | 설명 |
| --- | --- |
| **저장 단위** | 객체(Object): 파일 데이터 + 메타데이터 |
| **접근 경로** | `https://<버킷명>.s3.<리전>.amazonaws.com/<파일명>` |
| **접근 방식** | 웹 콘솔, AWS CLI, SDK, API |
| **확장성** | 무제한 저장 가능, 자동 확장 |
| **내구성(Durability)** | 99.999999999% (11 nines) |
| **가용성(Availability)** | 다중 AZ 복제로 고가용성 유지 |

> 💬 즉, S3는 “인터넷에서 접근 가능한 무한 용량의 HDD”
> 

---

### 🧠 사용 이유

> 데이터를 안전하게 보관하고, 정적 리소스(이미지, 문서, 동영상 등)를 빠르게 제공하기 위함
> 
- **버킷(Bucket)**: S3 내에서 데이터를 저장하는 논리적 컨테이너
- 파일 업로드, 다운로드, 삭제, 버전 관리 등 가능
- 비용 구조
    - **저장 비용**: 용량에 비례
    - **전송 비용**: 네트워크 트래픽 발생 시 과금
    - 압축, CDN(CloudFront) 사용으로 트래픽 비용 절약 가능

---

### 🔐 주의점

- S3 버킷명은 **전 세계에서 유일한 이름**이어야 함
- S3 URL이 **도메인처럼 노출**됨
    - 예: `my-bucket.s3.amazonaws.com/image.png`
- 민감 데이터는 **ACL, Bucket Policy, IAM 권한 제어** 필수
- Route 53과 연계해 사용자 도메인으로 접근 가능 (예: `cdn.example.com` → S3 연결)

---

### 🚀 업로드 방식 2가지

### 1️⃣ 클라이언트 직접 업로드 (Presigned URL 방식)

> 서버가 AWS에 요청하여 일시적 업로드용 URL을 발급받고, 클라이언트가 직접 S3에 업로드하는 구조
> 

**흐름**

1. 클라이언트 → 서버에게 “업로드 링크 요청”
2. 서버 → AWS SDK로 S3에 **Presigned URL** 발급
3. 서버 → 클라이언트에게 URL 전달
4. 클라이언트 → URL로 직접 업로드 수행

**장점**

- 서버 트래픽 부담 감소
- 대용량 파일 업로드 가능

**단점**

- 서버가 파일을 직접 검사하거나 변환할 수 없음

### 2️⃣ 서버 직접 업로드

> 클라이언트가 서버에 파일을 전송하고, 서버가 S3에 업로드
> 

**장점**

- 파일 타입 검증, 압축, 썸네일 처리 가능
    
    **단점**
    
- 서버 트래픽 부담, 업로드 속도 저하

---

### 🧱 S3 라이프사이클 관리

> S3는 저장 데이터를 접근 빈도에 따라 자동으로 다른 스토리지 클래스로 이동시킬 수 있음
> 

| 구분 | 설명 | 특징 |
| --- | --- | --- |
| **Standard (HOT)** | 자주 접근하는 데이터 | 빠름, 비용 높음 |
| **Infrequent Access (COLD)** | 일정 기간 동안 거의 접근하지 않는 데이터 | 저렴, 복원 빠름 |
| **Glacier** | 거의 접근하지 않는 장기 보관용 | 매우 저렴, 복원 느림 |
| **Glacier Deep Archive** | 장기 백업용 (수년 단위) | 가장 저렴, 복원 수 시간 |

> 💡 예시:
> 
> - 최근 3개월 내 업로드된 이미지 → HOT
> - 3개월 이상 조회 안 된 파일 → COLD
> - 1년 넘은 로그 파일 → Glacier

---

---

### ✅ 요약

> S3는 AWS의 핵심 객체 스토리지 서비스
> 
> - 파일 단위로 저장하고 URL 기반으로 접근 가능
> - 무한 확장성, 높은 내구성, 자동 백업
> - Presigned URL로 서버 트래픽 절약
> - 라이프사이클 정책으로 비용 효율화 가능
